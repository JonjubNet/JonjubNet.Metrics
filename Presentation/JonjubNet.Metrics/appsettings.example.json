{
  "Metrics": {
    "Enabled": true,
    "ServiceName": "MiAplicacion",
    "Environment": "Development",
    "Counter": {
      "Enabled": true,
      "DefaultIncrement": 1,
      "EnableLabels": true,
      "Services": {
        "HttpRequests": {
          "Enabled": true,
          "Increment": 1,
          "Labels": ["method", "endpoint", "status_code"]
        },
        "DatabaseOperations": {
          "Enabled": true,
          "Increment": 1,
          "Labels": ["operation", "table", "status"]
        },
        "BusinessOperations": {
          "Enabled": true,
          "Increment": 1,
          "Labels": ["operation", "result"]
        }
      }
    },
    "Gauge": {
      "Enabled": true,
      "EnableLabels": true,
      "Services": {
        "SystemMetrics": {
          "Enabled": true,
          "Labels": ["metric_type", "instance"]
        },
        "BusinessMetrics": {
          "Enabled": true,
          "Labels": ["metric_name", "category"]
        },
        "CustomMetrics": {
          "Enabled": true,
          "Labels": ["name", "type"]
        }
      }
    },
    "Histogram": {
      "Enabled": true,
      "DefaultBuckets": [0.1, 0.5, 1.0, 2.5, 5.0, 10.0],
      "EnableLabels": true,
      "Services": {
        "ResponseTime": {
          "Enabled": true,
          "Buckets": [0.1, 0.5, 1.0, 2.5, 5.0, 10.0, 30.0],
          "Labels": ["endpoint", "method"]
        },
        "DatabaseQueryTime": {
          "Enabled": true,
          "Buckets": [0.01, 0.05, 0.1, 0.5, 1.0, 5.0],
          "Labels": ["query_type", "table"]
        },
        "ProcessingTime": {
          "Enabled": true,
          "Buckets": [0.1, 0.5, 1.0, 2.5, 5.0, 10.0],
          "Labels": ["operation", "type"]
        }
      }
    },
    "Summary": {
      "Enabled": true,
      "DefaultQuantiles": [0.5, 0.95, 0.99, 0.999],
      "EnableLabels": true,
      "Services": {
        "RequestLatency": {
          "Enabled": true,
          "Quantiles": [0.5, 0.9, 0.95, 0.99, 0.999],
          "Labels": ["endpoint", "method"]
        },
        "ProcessingLatency": {
          "Enabled": true,
          "Quantiles": [0.5, 0.95, 0.99],
          "Labels": ["operation", "type"]
        },
        "DatabaseLatency": {
          "Enabled": true,
          "Quantiles": [0.5, 0.9, 0.95, 0.99, 0.999, 0.9999],
          "Labels": ["query_type", "table"]
        }
      }
    },
    "Timer": {
      "Enabled": true,
      "DefaultBuckets": [0.1, 0.5, 1.0, 2.5, 5.0, 10.0],
      "EnableLabels": true,
      "Services": {
        "HttpRequests": {
          "Enabled": true,
          "Buckets": [0.1, 0.5, 1.0, 2.5, 5.0, 10.0, 30.0],
          "Labels": ["method", "endpoint", "status_code"]
        },
        "DatabaseOperations": {
          "Enabled": true,
          "Buckets": [0.01, 0.05, 0.1, 0.5, 1.0, 5.0],
          "Labels": ["operation", "table"]
        },
        "BusinessOperations": {
          "Enabled": true,
          "Buckets": [0.1, 0.5, 1.0, 2.5, 5.0, 10.0],
          "Labels": ["operation", "type"]
        }
      }
    },
    "Export": {
      "Enabled": true,
      "ExportIntervalSeconds": 30,
      "Formats": ["Prometheus", "JSON"],
      "Prometheus": {
        "Enabled": true,
        "Endpoint": "/metrics",
        "Port": 9090
      },
      "JSON": {
        "Enabled": true,
        "Endpoint": "/metrics/json",
        "Port": 9091
      },
      "File": {
        "Enabled": false,
        "Path": "./metrics",
        "FileName": "metrics.json",
        "RotationEnabled": true,
        "MaxFileSizeMB": 100
      }
    },
    "Middleware": {
      "Enabled": true,
      "HttpMetrics": {
        "Enabled": true,
        "TrackRequestDuration": true,
        "TrackRequestSize": true,
        "TrackResponseSize": true,
        "TrackStatusCode": true,
        "ExcludePaths": ["/health", "/metrics", "/swagger"]
      },
      "DatabaseMetrics": {
        "Enabled": true,
        "TrackQueryDuration": true,
        "TrackQueryCount": true,
        "TrackConnectionCount": true
      }
    },
    "SlidingWindow": {
      "Enabled": true,
      "DefaultWindowSizeSeconds": 300,
      "CleanupIntervalSeconds": 10,
      "Services": {
        "RequestLatencyWindow": {
          "Enabled": true,
          "WindowSizeSeconds": 300,
          "Quantiles": [0.5, 0.95, 0.99, 0.999],
          "Labels": ["endpoint", "method"]
        },
        "ErrorRateWindow": {
          "Enabled": true,
          "WindowSizeSeconds": 60,
          "Quantiles": [0.5, 0.95, 0.99],
          "Labels": ["error_type"]
        }
      }
    },
    "Aggregation": {
      "Enabled": true,
      "DefaultAggregationType": "Average",
      "UpdateIntervalSeconds": 1,
      "Services": {
        "TotalRequests": {
          "Enabled": true,
          "AggregationType": "Sum",
          "Labels": ["endpoint", "method"]
        },
        "AverageResponseTime": {
          "Enabled": true,
          "AggregationType": "Average",
          "Labels": ["endpoint"]
        },
        "MaxLatency": {
          "Enabled": true,
          "AggregationType": "Max",
          "Labels": ["operation"]
        }
      }
    },
    "CircuitBreaker": {
      "Enabled": true,
      "Default": {
        "FailureThreshold": 5,
        "OpenDurationSeconds": 30
      },
      "Sinks": {
        "Prometheus": {
          "Enabled": true,
          "FailureThreshold": 3,
          "OpenDurationSeconds": 60
        },
        "InfluxDB": {
          "Enabled": true,
          "FailureThreshold": 5,
          "OpenDurationSeconds": 30
        },
        "Kafka": {
          "Enabled": true,
          "FailureThreshold": 10,
          "OpenDurationSeconds": 60
        },
        "StatsD": {
          "Enabled": true,
          "FailureThreshold": 5,
          "OpenDurationSeconds": 30
        },
        "OpenTelemetry": {
          "Enabled": true,
          "FailureThreshold": 5,
          "OpenDurationSeconds": 30
        }
      }
    },
    "Encryption": {
      "EnableInTransit": true,
      "EnableAtRest": true,
      "EncryptionKeyBase64": null,
      "EncryptionIVBase64": null,
      "EnableTls": true,
      "ValidateCertificates": true
    },
    "OpenTelemetry": {
      "Enabled": false,
      "Endpoint": "https://localhost:4318",
      "Protocol": "HttpJson",
      "EnableCompression": true,
      "TimeoutSeconds": 30
    },
    "InfluxDB": {
      "Enabled": false,
      "Url": "https://localhost:8086",
      "Token": null,
      "Organization": "default",
      "Bucket": "metrics",
      "EnableCompression": true,
      "TimeoutSeconds": 30
    }
  }
}
